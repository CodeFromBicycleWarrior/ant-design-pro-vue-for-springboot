{"version":3,"sources":["webpack:///./src/api/manage.js","webpack:///./src/views/list/TreeList.vue?4aa3","webpack:///./src/components/Tree/Tree.jsx","webpack:///./src/views/list/modules/OrgModal.vue?7173","webpack:///src/views/list/modules/OrgModal.vue","webpack:///./src/views/list/modules/OrgModal.vue?6426","webpack:///./src/views/list/modules/OrgModal.vue","webpack:///src/views/list/TreeList.vue","webpack:///./src/views/list/TreeList.vue?c042","webpack:///./src/views/list/TreeList.vue","webpack:///./src/views/list/TreeList.vue?2866"],"names":["__webpack_require__","d","__webpack_exports__","getRoleList","getServiceList","getPermissions","getOrgTree","_utils_request__WEBPACK_IMPORTED_MODULE_0__","api","user","role","service","permission","permissionNoPager","orgTree","parameter","axios","url","method","params","TreeListvue_type_template_id_4d220c96_render","_vm","this","_h","$createElement","_c","_self","attrs","bordered","gutter","span","dataSource","openKeys","search","on","update:openKeys","$event","click","handleClick","add","handleAdd","titleClick","handleTitleClick","ref","size","columns","data","loadData","alert","rowSelection","selectedRowKeys","onChange","onSelectChange","scopedSlots","_u","key","fn","text","record","$auth","handleEdit","_v","type","_e","staticClass","slot","href","ok","handleSaveOk","close","handleSaveClose","staticRenderFns","Item","Menu","ItemGroup","SubMenu","Search","Input","Tree","name","props","Array","required","default","Boolean","created","localOpenKeys","slice","methods","handlePlus","item","$emit","_len","arguments","length","args","_key","renderSearch","h","placeholder","style","renderIcon","icon","antd_min","renderMenuItem","_this","title","class","Object","objectSpread","renderItem","children","renderSubItem","renderItemGroup","_this2","childrenItems","map","o","_this3","group","render","_this4","_this$$props","$props","list","mode","val","OrgModalvue_type_template_id_aab07bd6_render","width","visible","confirmLoading","handleOk","cancel","handleCancel","spinning","form","label","directives","rawName","value","expression","disabled","OrgModalvue_type_template_id_aab07bd6_staticRenderFns","OrgModalvue_type_script_lang_js_","labelCol","xs","sm","wrapperCol","mdl","beforeCreate","$form","createForm","console","log","id","edit","parentId","assign_default","$nextTick","setFieldsValue","validateFields","err","values","promise_default","a","resolve","setTimeout","then","$message","success","catch","finally","modules_OrgModalvue_type_script_lang_js_","component","componentNormalizer","OrgModal","TreeListvue_type_script_lang_js_","components","STable","table","STree","queryParam","dataIndex","sorter","needTotal","customRender","manage","res","result","selectedRows","e","$refs","refresh","info","concat","modal","list_TreeListvue_type_script_lang_js_","TreeList_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TreeList_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TreeList_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-c82e3028.9424f2d4.js","sourcesContent":["import { axios } from '@/utils/request'\r\n\r\nconst api = {\r\n  user: '/user',\r\n  role: '/role',\r\n  service: '/service',\r\n  permission: '/permission',\r\n  permissionNoPager: '/permission/no-pager',\r\n  orgTree: '/org/tree'\r\n}\r\n\r\nexport default api\r\n\r\nexport function getUserList (parameter) {\r\n  return axios({\r\n    url: api.user,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getRoleList (parameter) {\r\n  return axios({\r\n    url: api.role,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getServiceList (parameter) {\r\n  return axios({\r\n    url: api.service,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getPermissions (parameter) {\r\n  return axios({\r\n    url: api.permissionNoPager,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getOrgTree (parameter) {\r\n  return axios({\r\n    url: api.orgTree,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\n// id == 0 add     post\r\n// id != 0 update  put\r\nexport function saveService (parameter) {\r\n  return axios({\r\n    url: api.service,\r\n    method: parameter.id === 0 ? 'post' : 'put',\r\n    data: parameter\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-card',{attrs:{\"bordered\":false}},[_c('a-row',{attrs:{\"gutter\":8}},[_c('a-col',{attrs:{\"span\":5}},[_c('s-tree',{attrs:{\"dataSource\":_vm.orgTree,\"openKeys\":_vm.openKeys,\"search\":true},on:{\"update:openKeys\":function($event){_vm.openKeys=$event},\"click\":_vm.handleClick,\"add\":_vm.handleAdd,\"titleClick\":_vm.handleTitleClick}})],1),_c('a-col',{attrs:{\"span\":19}},[_c('s-table',{ref:\"table\",attrs:{\"size\":\"default\",\"columns\":_vm.columns,\"data\":_vm.loadData,\"alert\":false,\"rowSelection\":{ selectedRowKeys: _vm.selectedRowKeys, onChange: _vm.onSelectChange }},scopedSlots:_vm._u([{key:\"action\",fn:function(text, record){return _c('span',{},[(_vm.$auth('table.update'))?[_c('a',{on:{\"click\":function($event){_vm.handleEdit(record)}}},[_vm._v(\"编辑\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}})]:_vm._e(),_c('a-dropdown',[_c('a',{staticClass:\"ant-dropdown-link\"},[_vm._v(\"\\n              更多 \"),_c('a-icon',{attrs:{\"type\":\"down\"}})],1),_c('a-menu',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},[_c('a-menu-item',[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"详情\")])]),(_vm.$auth('table.disable'))?_c('a-menu-item',[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"禁用\")])]):_vm._e(),(_vm.$auth('table.delete'))?_c('a-menu-item',[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"删除\")])]):_vm._e()],1)],1)],2)}}])})],1)],1),_c('org-modal',{ref:\"modal\",on:{\"ok\":_vm.handleSaveOk,\"close\":_vm.handleSaveClose}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Menu, Icon, Input } from 'ant-design-vue'\r\n\r\nconst { Item, ItemGroup, SubMenu } = Menu\r\nconst { Search } = Input\r\n\r\nexport default {\r\n  name: 'Tree',\r\n  props: {\r\n    dataSource: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    openKeys: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    search: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  created () {\r\n    this.localOpenKeys = this.openKeys.slice(0)\r\n  },\r\n  data () {\r\n    return {\r\n      localOpenKeys: []\r\n    }\r\n  },\r\n  methods: {\r\n    handlePlus (item) {\r\n      this.$emit('add', item)\r\n    },\r\n    handleTitleClick (...args) {\r\n      this.$emit('titleClick', { args })\r\n    },\r\n\r\n    renderSearch () {\r\n      return (\r\n        <Search\r\n          placeholder=\"input search text\"\r\n          style=\"width: 100%; margin-bottom: 1rem\"\r\n        />\r\n      )\r\n    },\r\n    renderIcon (icon) {\r\n      return icon && (<Icon type={icon} />) || null\r\n    },\r\n    renderMenuItem (item) {\r\n      return (\r\n        <Item key={item.key}>\r\n          { this.renderIcon(item.icon) }\r\n          { item.title }\r\n          <a class=\"btn\" style=\"width: 20px;z-index:1300\" {...{ on: { click: () => this.handlePlus(item) } }}><a-icon type=\"plus\"/></a>\r\n        </Item>\r\n      )\r\n    },\r\n    renderItem (item) {\r\n      return item.children ? this.renderSubItem(item, item.key) : this.renderMenuItem(item, item.key)\r\n    },\r\n    renderItemGroup (item) {\r\n      const childrenItems = item.children.map(o => {\r\n        return this.renderItem(o, o.key)\r\n      })\r\n\r\n      return (\r\n        <ItemGroup key={item.key}>\r\n          <template slot=\"title\">\r\n            <span>{ item.title }</span>\r\n            <a-dropdown>\r\n              <a class=\"btn\"><a-icon type=\"ellipsis\" /></a>\r\n              <a-menu slot=\"overlay\">\r\n                <a-menu-item key=\"1\">新增</a-menu-item>\r\n                <a-menu-item key=\"2\">合并</a-menu-item>\r\n                <a-menu-item key=\"3\">移除</a-menu-item>\r\n              </a-menu>\r\n            </a-dropdown>\r\n          </template>\r\n          { childrenItems }\r\n        </ItemGroup>\r\n      )\r\n    },\r\n    renderSubItem (item, key) {\r\n      const childrenItems = item.children && item.children.map(o => {\r\n        return this.renderItem(o, o.key)\r\n      })\r\n\r\n      const title = (\r\n        <span slot=\"title\">\r\n          { this.renderIcon(item.icon) }\r\n          <span>{ item.title }</span>\r\n        </span>\r\n      )\r\n\r\n      if (item.group) {\r\n        return this.renderItemGroup(item)\r\n      }\r\n      // titleClick={this.handleTitleClick(item)}\r\n      return (\r\n        <SubMenu key={key}>\r\n          { title }\r\n          { childrenItems }\r\n        </SubMenu>\r\n      )\r\n    }\r\n  },\r\n  render () {\r\n    const { dataSource, search } = this.$props\r\n\r\n    // this.localOpenKeys = openKeys.slice(0)\r\n    const list = dataSource.map(item => {\r\n      return this.renderItem(item)\r\n    })\r\n\r\n    return (\r\n      <div class=\"tree-wrapper\">\r\n        { search ? this.renderSearch() : null }\r\n        <Menu mode=\"inline\" class=\"custom-tree\" {...{ on: { click: item => this.$emit('click', item), 'update:openKeys': val => { this.localOpenKeys = val } } }} openKeys={this.localOpenKeys}>\r\n          { list }\r\n        </Menu>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-modal',{attrs:{\"title\":\"操作\",\"width\":600,\"visible\":_vm.visible,\"confirmLoading\":_vm.confirmLoading},on:{\"ok\":_vm.handleOk,\"cancel\":_vm.handleCancel}},[_c('a-spin',{attrs:{\"spinning\":_vm.confirmLoading}},[_c('a-form',{attrs:{\"form\":_vm.form}},[_c('a-form-item',{attrs:{\"label\":\"父级ID\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['parentId', {}]),expression:\"['parentId', {}]\"}],attrs:{\"disabled\":\"\"}})],1),_c('a-form-item',{attrs:{\"label\":\"机构名称\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['orgName', {}]),expression:\"['orgName', {}]\"}]})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <a-modal\r\n    title=\"操作\"\r\n    :width=\"600\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\"\r\n  >\r\n    <a-spin :spinning=\"confirmLoading\">\r\n      <a-form :form=\"form\">\r\n\r\n        <a-form-item\r\n          label=\"父级ID\"\r\n        >\r\n          <a-input v-decorator=\"['parentId', {}]\" disabled />\r\n        </a-form-item>\r\n\r\n        <a-form-item\r\n          label=\"机构名称\"\r\n        >\r\n          <a-input v-decorator=\"['orgName', {}]\" />\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-spin>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'OrgModal',\r\n  data () {\r\n    return {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 5 }\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 }\r\n      },\r\n      visible: false,\r\n      confirmLoading: false,\r\n      mdl: {}\r\n    }\r\n  },\r\n  beforeCreate () {\r\n    this.form = this.$form.createForm(this)\r\n    console.log('form::', this.form)\r\n  },\r\n  created () {\r\n\r\n  },\r\n  methods: {\r\n    add (id) {\r\n      this.edit({ parentId: id })\r\n    },\r\n    edit (record) {\r\n      this.mdl = Object.assign({}, record)\r\n      this.visible = true\r\n      this.$nextTick(() => {\r\n        this.form.setFieldsValue({ ...record })\r\n      })\r\n    },\r\n    close () {\r\n      this.$emit('close')\r\n      this.visible = false\r\n    },\r\n    handleOk () {\r\n      const _this = this\r\n      // 触发表单验证\r\n      this.form.validateFields((err, values) => {\r\n        // 验证表单没错误\r\n        if (!err) {\r\n          console.log('form values', values)\r\n\r\n          _this.confirmLoading = true\r\n          // 模拟后端请求 2000 毫秒延迟\r\n          new Promise((resolve) => {\r\n            setTimeout(() => resolve(), 2000)\r\n          }).then(() => {\r\n            // Do something\r\n            _this.$message.success('保存成功')\r\n            _this.$emit('ok')\r\n          }).catch(() => {\r\n            // Do something\r\n          }).finally(() => {\r\n            _this.confirmLoading = false\r\n            _this.close()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleCancel () {\r\n      this.close()\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrgModal.vue?vue&type=template&id=aab07bd6&\"\nimport script from \"./OrgModal.vue?vue&type=script&lang=js&\"\nexport * from \"./OrgModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <a-card :bordered=\"false\">\r\n    <a-row :gutter=\"8\">\r\n      <a-col :span=\"5\">\r\n        <s-tree\r\n          :dataSource=\"orgTree\"\r\n          :openKeys.sync=\"openKeys\"\r\n          :search=\"true\"\r\n          @click=\"handleClick\"\r\n          @add=\"handleAdd\"\r\n          @titleClick=\"handleTitleClick\"></s-tree>\r\n      </a-col>\r\n      <a-col :span=\"19\">\r\n        <s-table\r\n          ref=\"table\"\r\n          size=\"default\"\r\n          :columns=\"columns\"\r\n          :data=\"loadData\"\r\n          :alert=\"false\"\r\n          :rowSelection=\"{ selectedRowKeys: selectedRowKeys, onChange: onSelectChange }\"\r\n        >\r\n          <span slot=\"action\" slot-scope=\"text, record\">\r\n            <template v-if=\"$auth('table.update')\">\r\n              <a @click=\"handleEdit(record)\">编辑</a>\r\n              <a-divider type=\"vertical\" />\r\n            </template>\r\n            <a-dropdown>\r\n              <a class=\"ant-dropdown-link\">\r\n                更多 <a-icon type=\"down\" />\r\n              </a>\r\n              <a-menu slot=\"overlay\">\r\n                <a-menu-item>\r\n                  <a href=\"javascript:;\">详情</a>\r\n                </a-menu-item>\r\n                <a-menu-item v-if=\"$auth('table.disable')\">\r\n                  <a href=\"javascript:;\">禁用</a>\r\n                </a-menu-item>\r\n                <a-menu-item v-if=\"$auth('table.delete')\">\r\n                  <a href=\"javascript:;\">删除</a>\r\n                </a-menu-item>\r\n              </a-menu>\r\n            </a-dropdown>\r\n          </span>\r\n        </s-table>\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <org-modal ref=\"modal\" @ok=\"handleSaveOk\" @close=\"handleSaveClose\" />\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\nimport STree from '@/components/Tree/Tree'\r\nimport STable from '@/components/table/'\r\nimport OrgModal from './modules/OrgModal'\r\nimport { getOrgTree, getServiceList } from '@/api/manage'\r\n\r\nexport default {\r\n  name: 'TreeList',\r\n  components: {\r\n    STable,\r\n    STree,\r\n    OrgModal\r\n  },\r\n  data () {\r\n    return {\r\n      openKeys: ['key-01'],\r\n\r\n      // 查询参数\r\n      queryParam: {},\r\n      // 表头\r\n      columns: [\r\n        {\r\n          title: '#',\r\n          dataIndex: 'no'\r\n        },\r\n        {\r\n          title: '成员名称',\r\n          dataIndex: 'description'\r\n        },\r\n        {\r\n          title: '登陆次数',\r\n          dataIndex: 'callNo',\r\n          sorter: true,\r\n          needTotal: true,\r\n          customRender: (text) => text + ' 次'\r\n        },\r\n        {\r\n          title: '状态',\r\n          dataIndex: 'status',\r\n          needTotal: true\r\n        },\r\n        {\r\n          title: '更新时间',\r\n          dataIndex: 'updatedAt',\r\n          sorter: true\r\n        },\r\n        {\r\n          table: '操作',\r\n          dataIndex: 'action',\r\n          width: '150px',\r\n          scopedSlots: { customRender: 'action' }\r\n        }\r\n      ],\r\n      // 加载数据方法 必须为 Promise 对象\r\n      loadData: parameter => {\r\n        return getServiceList(Object.assign(parameter, this.queryParam))\r\n          .then(res => {\r\n            return res.result\r\n          })\r\n      },\r\n      orgTree: [],\r\n      selectedRowKeys: [],\r\n      selectedRows: []\r\n    }\r\n  },\r\n  created () {\r\n    getOrgTree().then(res => {\r\n      this.orgTree = res.result\r\n    })\r\n  },\r\n  methods: {\r\n    handleClick (e) {\r\n      console.log('handleClick', e)\r\n      this.queryParam = {\r\n        key: e.key\r\n      }\r\n      this.$refs.table.refresh(true)\r\n    },\r\n    handleAdd (item) {\r\n      console.log('add button, item', item)\r\n      this.$message.info(`提示：你点了 ${item.key} - ${item.title} `)\r\n      this.$refs.modal.add(item.key)\r\n    },\r\n    handleTitleClick (item) {\r\n      console.log('handleTitleClick', item)\r\n    },\r\n    titleClick (e) {\r\n      console.log('titleClick', e)\r\n    },\r\n    handleSaveOk () {\r\n\r\n    },\r\n    handleSaveClose () {\r\n\r\n    },\r\n\r\n    onSelectChange (selectedRowKeys, selectedRows) {\r\n      this.selectedRowKeys = selectedRowKeys\r\n      this.selectedRows = selectedRows\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .custom-tree {\r\n\r\n    /deep/ .ant-menu-item-group-title {\r\n      position: relative;\r\n      &:hover {\r\n        .btn {\r\n          display: block;\r\n        }\r\n      }\r\n    }\r\n\r\n    /deep/ .ant-menu-item {\r\n      &:hover {\r\n        .btn {\r\n          display: block;\r\n        }\r\n      }\r\n    }\r\n\r\n    /deep/ .btn {\r\n      display: none;\r\n      position: absolute;\r\n      top: 0;\r\n      right: 10px;\r\n      width: 20px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      z-index: 1050;\r\n\r\n      &:hover {\r\n        transform: scale(1.2);\r\n        transition: 0.5s all;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeList.vue?vue&type=template&id=4d220c96&\"\nimport script from \"./TreeList.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeList.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeList.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeList.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}