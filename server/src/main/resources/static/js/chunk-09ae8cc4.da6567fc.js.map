{"version":3,"sources":["webpack:///./src/api/manage.js","webpack:///./src/views/list/RoleList.vue?ce49","webpack:///./src/views/list/modules/RoleModal.vue?1d5e","webpack:///src/views/list/modules/RoleModal.vue","webpack:///./src/views/list/modules/RoleModal.vue?bf11","webpack:///./src/views/list/modules/RoleModal.vue","webpack:///src/views/list/RoleList.vue","webpack:///./src/views/list/RoleList.vue?6139","webpack:///./src/views/list/RoleList.vue","webpack:///./node_modules/lodash.pick/index.js","webpack:///./src/utils/permissions.js"],"names":["__webpack_require__","d","__webpack_exports__","getRoleList","getServiceList","getPermissions","getOrgTree","_utils_request__WEBPACK_IMPORTED_MODULE_0__","api","user","role","service","permission","permissionNoPager","orgTree","parameter","axios","url","method","params","render","_vm","this","_h","$createElement","_c","_self","attrs","bordered","staticClass","layout","gutter","md","sm","label","placeholder","default-value","value","_v","type","staticStyle","margin-left","ref","size","columns","data","loadData","scopedSlots","_u","key","fn","record","margin","style","marginBottom","_l","index","span","_s","permissionName","actionEntitySet","length","action","k","color","describe","text","on","click","$event","$refs","modal","edit","slot","href","ok","handleOk","staticRenderFns","RoleModalvue_type_template_id_00d47234_scoped_true_render","title","width","visible","confirmLoading","cancel","handleCancel","spinning","form","labelCol","wrapperCol","hasFeedback","directives","name","rawName","rules","expression","disabled","required","message","rows","actionsOptions","indeterminate","checked","checkedAll","change","onChangeCheckAll","_e","options","onChangeCheck","model","callback","$$v","$set","RoleModalvue_type_template_id_00d47234_scoped_true_staticRenderFns","RoleModalvue_type_script_lang_js_","xs","mdl","$form","createForm","permissions","created","loadPermissions","methods","add","id","_this2","Object","assign","permissionsAction","forEach","permissionId","map","entity","selected","$nextTick","setFieldsValue","lodash_pick_default","console","log","close","$emit","_this","validateFields","err","values","Promise","resolve","setTimeout","then","$message","success","catch","finally","e","target","obj","_this3","manage","res","result","actionData","option","modules_RoleModalvue_type_script_lang_js_","component","componentNormalizer","RoleModal","RoleListvue_type_script_lang_js_","components","STable","table","description","advanced","queryParam","dataIndex","sorter","customRender","$http","get","selectedRowKeys","selectedRows","handleEdit","defaultCheck","refresh","onChange","toggleAdvanced","watch","list_RoleListvue_type_script_lang_js_","RoleList_component","global","INFINITY","MAX_SAFE_INTEGER","argsTag","funcTag","genTag","symbolTag","freeGlobal","freeSelf","self","root","Function","apply","func","thisArg","args","call","arrayMap","array","iteratee","Array","arrayPush","offset","objectProto","prototype","hasOwnProperty","objectToString","toString","Symbol","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","undefined","nativeMax","Math","max","baseFlatten","depth","predicate","isStrict","isFlattenable","basePick","object","props","basePickBy","baseRest","start","arguments","otherArgs","isArray","isArguments","toKey","isSymbol","isArrayLikeObject","isArrayLike","isLength","isFunction","isObjectLike","tag","isObject","pick","module","exports","actionToObject","json","JSON","parse"],"mappings":"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","file":"js/chunk-09ae8cc4.da6567fc.js","sourcesContent":["import { axios } from '@/utils/request'\r\n\r\nconst api = {\r\n  user: '/user',\r\n  role: '/role',\r\n  service: '/service',\r\n  permission: '/permission',\r\n  permissionNoPager: '/permission/no-pager',\r\n  orgTree: '/org/tree'\r\n}\r\n\r\nexport default api\r\n\r\nexport function getUserList (parameter) {\r\n  return axios({\r\n    url: api.user,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getRoleList (parameter) {\r\n  return axios({\r\n    url: api.role,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getServiceList (parameter) {\r\n  return axios({\r\n    url: api.service,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getPermissions (parameter) {\r\n  return axios({\r\n    url: api.permissionNoPager,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\nexport function getOrgTree (parameter) {\r\n  return axios({\r\n    url: api.orgTree,\r\n    method: 'get',\r\n    params: parameter\r\n  })\r\n}\r\n\r\n// id == 0 add     post\r\n// id != 0 update  put\r\nexport function saveService (parameter) {\r\n  return axios({\r\n    url: api.service,\r\n    method: parameter.id === 0 ? 'post' : 'put',\r\n    data: parameter\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-card',{attrs:{\"bordered\":false}},[_c('div',{staticClass:\"table-page-search-wrapper\"},[_c('a-form',{attrs:{\"layout\":\"inline\"}},[_c('a-row',{attrs:{\"gutter\":48}},[_c('a-col',{attrs:{\"md\":8,\"sm\":24}},[_c('a-form-item',{attrs:{\"label\":\"角色ID\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入\"}})],1)],1),_c('a-col',{attrs:{\"md\":8,\"sm\":24}},[_c('a-form-item',{attrs:{\"label\":\"状态\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择\",\"default-value\":\"0\"}},[_c('a-select-option',{attrs:{\"value\":\"0\"}},[_vm._v(\"全部\")]),_c('a-select-option',{attrs:{\"value\":\"1\"}},[_vm._v(\"正常\")]),_c('a-select-option',{attrs:{\"value\":\"2\"}},[_vm._v(\"禁用\")])],1)],1)],1),_c('a-col',{attrs:{\"md\":8,\"sm\":24}},[_c('span',{staticClass:\"table-page-search-submitButtons\"},[_c('a-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"查询\")]),_c('a-button',{staticStyle:{\"margin-left\":\"8px\"}},[_vm._v(\"重置\")])],1)])],1)],1)],1),_c('s-table',{ref:\"table\",attrs:{\"size\":\"default\",\"columns\":_vm.columns,\"data\":_vm.loadData},scopedSlots:_vm._u([{key:\"expandedRowRender\",fn:function(record){return _c('div',{staticStyle:{\"margin\":\"0\"}},[_c('a-row',{style:({ marginBottom: '12px' }),attrs:{\"gutter\":24}},_vm._l((record.permissions),function(role,index){return _c('a-col',{key:index,style:({ marginBottom: '12px' }),attrs:{\"span\":12}},[_c('a-col',{attrs:{\"span\":4}},[_c('span',[_vm._v(_vm._s(role.permissionName)+\"：\")])]),(role.actionEntitySet.length > 0)?_c('a-col',{attrs:{\"span\":20}},_vm._l((role.actionEntitySet),function(action,k){return _c('a-tag',{key:k,attrs:{\"color\":\"cyan\"}},[_vm._v(_vm._s(action.describe))])}),1):_c('a-col',{attrs:{\"span\":20}},[_vm._v(\"-\")])],1)}),1)],1)}},{key:\"action\",fn:function(text, record){return _c('span',{},[_c('a',{on:{\"click\":function($event){_vm.$refs.modal.edit(record)}}},[_vm._v(\"编辑\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a-dropdown',[_c('a',{staticClass:\"ant-dropdown-link\"},[_vm._v(\"\\n          更多 \"),_c('a-icon',{attrs:{\"type\":\"down\"}})],1),_c('a-menu',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},[_c('a-menu-item',[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"详情\")])]),_c('a-menu-item',[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"禁用\")])]),_c('a-menu-item',[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"删除\")])])],1)],1)],1)}}])}),_c('role-modal',{ref:\"modal\",on:{\"ok\":_vm.handleOk}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-modal',{attrs:{\"title\":\"操作\",\"width\":800,\"visible\":_vm.visible,\"confirmLoading\":_vm.confirmLoading},on:{\"ok\":_vm.handleOk,\"cancel\":_vm.handleCancel}},[_c('a-spin',{attrs:{\"spinning\":_vm.confirmLoading}},[_c('a-form',{attrs:{\"form\":_vm.form}},[_c('a-form-item',{attrs:{\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"label\":\"唯一识别码\",\"hasFeedback\":\"\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([ 'id', {rules: []} ]),expression:\"[ 'id', {rules: []} ]\"}],attrs:{\"placeholder\":\"唯一识别码\",\"disabled\":\"disabled\"}})],1),_c('a-form-item',{attrs:{\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"label\":\"角色名称\",\"hasFeedback\":\"\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([ 'name', {rules: [{ required: true, message: '不起一个名字吗？' }] }]),expression:\"[ 'name', {rules: [{ required: true, message: '不起一个名字吗？' }] }]\"}],attrs:{\"placeholder\":\"起一个名字\"}})],1),_c('a-form-item',{attrs:{\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"label\":\"状态\",\"hasFeedback\":\"\"}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([ 'status', {rules: []} ]),expression:\"[ 'status', {rules: []} ]\"}]},[_c('a-select-option',{attrs:{\"value\":1}},[_vm._v(\"正常\")]),_c('a-select-option',{attrs:{\"value\":2}},[_vm._v(\"禁用\")])],1)],1),_c('a-form-item',{attrs:{\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"label\":\"描述\",\"hasFeedback\":\"\"}},[_c('a-textarea',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([ 'describe', { rules: [] } ]),expression:\"[ 'describe', { rules: [] } ]\"}],attrs:{\"rows\":5,\"placeholder\":\"...\"}})],1),_c('a-divider'),_c('a-form-item',{attrs:{\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"label\":\"拥有权限\",\"hasFeedback\":\"\"}},_vm._l((_vm.permissions),function(permission,index){return _c('a-row',{key:index,attrs:{\"gutter\":16}},[_c('a-col',{attrs:{\"span\":4}},[_vm._v(\"\\n            \"+_vm._s(permission.name)+\"：\\n          \")]),_c('a-col',{attrs:{\"span\":20}},[(permission.actionsOptions.length > 0)?_c('a-checkbox',{attrs:{\"indeterminate\":permission.indeterminate,\"checked\":permission.checkedAll},on:{\"change\":function($event){_vm.onChangeCheckAll($event, permission)}}},[_vm._v(\"\\n              全选\\n            \")]):_vm._e(),_c('a-checkbox-group',{attrs:{\"options\":permission.actionsOptions},on:{\"change\":function($event){_vm.onChangeCheck(permission)}},model:{value:(permission.selected),callback:function ($$v) {_vm.$set(permission, \"selected\", $$v)},expression:\"permission.selected\"}})],1)],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <a-modal\r\n    title=\"操作\"\r\n    :width=\"800\"\r\n    :visible=\"visible\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\"\r\n  >\r\n    <a-spin :spinning=\"confirmLoading\">\r\n      <a-form :form=\"form\">\r\n\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"唯一识别码\"\r\n          hasFeedback\r\n        >\r\n          <a-input placeholder=\"唯一识别码\" disabled=\"disabled\" v-decorator=\"[ 'id', {rules: []} ]\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"角色名称\"\r\n          hasFeedback >\r\n          <a-input placeholder=\"起一个名字\" v-decorator=\"[ 'name', {rules: [{ required: true, message: '不起一个名字吗？' }] }]\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"状态\"\r\n          hasFeedback >\r\n          <a-select v-decorator=\"[ 'status', {rules: []} ]\">\r\n            <a-select-option :value=\"1\">正常</a-select-option>\r\n            <a-select-option :value=\"2\">禁用</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"描述\"\r\n          hasFeedback\r\n        >\r\n          <a-textarea :rows=\"5\" placeholder=\"...\" v-decorator=\"[ 'describe', { rules: [] } ]\" />\r\n        </a-form-item>\r\n\r\n        <a-divider/>\r\n\r\n        <a-form-item\r\n          :labelCol=\"labelCol\"\r\n          :wrapperCol=\"wrapperCol\"\r\n          label=\"拥有权限\"\r\n          hasFeedback\r\n        >\r\n          <a-row :gutter=\"16\" v-for=\"(permission, index) in permissions\" :key=\"index\">\r\n            <a-col :span=\"4\">\r\n              {{ permission.name }}：\r\n            </a-col>\r\n            <a-col :span=\"20\">\r\n              <a-checkbox\r\n                v-if=\"permission.actionsOptions.length > 0\"\r\n                :indeterminate=\"permission.indeterminate\"\r\n                :checked=\"permission.checkedAll\"\r\n                @change=\"onChangeCheckAll($event, permission)\">\r\n                全选\r\n              </a-checkbox>\r\n              <a-checkbox-group :options=\"permission.actionsOptions\" v-model=\"permission.selected\" @change=\"onChangeCheck(permission)\" />\r\n            </a-col>\r\n          </a-row>\r\n\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-spin>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\nimport { getPermissions } from '@/api/manage'\r\nimport { actionToObject } from '@/utils/permissions'\r\nimport pick from 'lodash.pick'\r\n\r\nexport default {\r\n  name: 'RoleModal',\r\n  data () {\r\n    return {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 5 }\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 }\r\n      },\r\n      visible: false,\r\n      confirmLoading: false,\r\n      mdl: {},\r\n\r\n      form: this.$form.createForm(this),\r\n      permissions: []\r\n    }\r\n  },\r\n  created () {\r\n    this.loadPermissions()\r\n  },\r\n  methods: {\r\n    add () {\r\n      this.edit({ id: 0 })\r\n    },\r\n    edit (record) {\r\n      this.mdl = Object.assign({}, record)\r\n      this.visible = true\r\n\r\n      // 有权限表，处理勾选\r\n      if (this.mdl.permissions && this.permissions) {\r\n        // 先处理要勾选的权限结构\r\n        const permissionsAction = {}\r\n        this.mdl.permissions.forEach(permission => {\r\n          permissionsAction[permission.permissionId] = permission.actionEntitySet.map(entity => entity.action)\r\n        })\r\n        // 把权限表遍历一遍，设定要勾选的权限 action\r\n        this.permissions.forEach(permission => {\r\n          permission.selected = permissionsAction[permission.id]\r\n        })\r\n      }\r\n\r\n      this.$nextTick(() => {\r\n        this.form.setFieldsValue(pick(this.mdl, 'id', 'name', 'status', 'describe'))\r\n      })\r\n      console.log('this.mdl', this.mdl)\r\n    },\r\n    close () {\r\n      this.$emit('close')\r\n      this.visible = false\r\n    },\r\n    handleOk () {\r\n      const _this = this\r\n      // 触发表单验证\r\n      this.form.validateFields((err, values) => {\r\n        // 验证表单没错误\r\n        if (!err) {\r\n          console.log('form values', values)\r\n\r\n          _this.confirmLoading = true\r\n          // 模拟后端请求 2000 毫秒延迟\r\n          new Promise((resolve) => {\r\n            setTimeout(() => resolve(), 2000)\r\n          }).then(() => {\r\n            // Do something\r\n            _this.$message.success('保存成功')\r\n            _this.$emit('ok')\r\n          }).catch(() => {\r\n            // Do something\r\n          }).finally(() => {\r\n            _this.confirmLoading = false\r\n            _this.close()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleCancel () {\r\n      this.close()\r\n    },\r\n    onChangeCheck (permission) {\r\n      permission.indeterminate = !!permission.selected.length && (permission.selected.length < permission.actionsOptions.length)\r\n      permission.checkedAll = permission.selected.length === permission.actionsOptions.length\r\n    },\r\n    onChangeCheckAll (e, permission) {\r\n      Object.assign(permission, {\r\n        selected: e.target.checked ? permission.actionsOptions.map(obj => obj.value) : [],\r\n        indeterminate: false,\r\n        checkedAll: e.target.checked\r\n      })\r\n    },\r\n    loadPermissions () {\r\n      getPermissions().then(res => {\r\n        const result = res.result\r\n        this.permissions = result.map(permission => {\r\n          const options = actionToObject(permission.actionData)\r\n          permission.checkedAll = false\r\n          permission.selected = []\r\n          permission.indeterminate = false\r\n          permission.actionsOptions = options.map(option => {\r\n            return {\r\n              label: option.describe,\r\n              value: option.action\r\n            }\r\n          })\r\n          return permission\r\n        })\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleModal.vue?vue&type=template&id=00d47234&scoped=true&\"\nimport script from \"./RoleModal.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00d47234\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <a-card :bordered=\"false\">\r\n    <div class=\"table-page-search-wrapper\">\r\n      <a-form layout=\"inline\">\r\n        <a-row :gutter=\"48\">\r\n          <a-col :md=\"8\" :sm=\"24\">\r\n            <a-form-item label=\"角色ID\">\r\n              <a-input placeholder=\"请输入\"/>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :md=\"8\" :sm=\"24\">\r\n            <a-form-item label=\"状态\">\r\n              <a-select placeholder=\"请选择\" default-value=\"0\">\r\n                <a-select-option value=\"0\">全部</a-select-option>\r\n                <a-select-option value=\"1\">正常</a-select-option>\r\n                <a-select-option value=\"2\">禁用</a-select-option>\r\n              </a-select>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :md=\"8\" :sm=\"24\">\r\n            <span class=\"table-page-search-submitButtons\">\r\n              <a-button type=\"primary\">查询</a-button>\r\n              <a-button style=\"margin-left: 8px\">重置</a-button>\r\n            </span>\r\n          </a-col>\r\n        </a-row>\r\n      </a-form>\r\n    </div>\r\n\r\n    <s-table\r\n      ref=\"table\"\r\n      size=\"default\"\r\n      :columns=\"columns\"\r\n      :data=\"loadData\"\r\n    >\r\n      <div\r\n        slot=\"expandedRowRender\"\r\n        slot-scope=\"record\"\r\n        style=\"margin: 0\">\r\n        <a-row\r\n          :gutter=\"24\"\r\n          :style=\"{ marginBottom: '12px' }\">\r\n          <a-col :span=\"12\" v-for=\"(role, index) in record.permissions\" :key=\"index\" :style=\"{ marginBottom: '12px' }\">\r\n            <a-col :span=\"4\">\r\n              <span>{{ role.permissionName }}：</span>\r\n            </a-col>\r\n            <a-col :span=\"20\" v-if=\"role.actionEntitySet.length > 0\">\r\n              <a-tag color=\"cyan\" v-for=\"(action, k) in role.actionEntitySet\" :key=\"k\">{{ action.describe }}</a-tag>\r\n            </a-col>\r\n            <a-col :span=\"20\" v-else>-</a-col>\r\n          </a-col>\r\n        </a-row>\r\n      </div>\r\n      <span slot=\"action\" slot-scope=\"text, record\">\r\n        <a @click=\"$refs.modal.edit(record)\">编辑</a>\r\n        <a-divider type=\"vertical\" />\r\n        <a-dropdown>\r\n          <a class=\"ant-dropdown-link\">\r\n            更多 <a-icon type=\"down\" />\r\n          </a>\r\n          <a-menu slot=\"overlay\">\r\n            <a-menu-item>\r\n              <a href=\"javascript:;\">详情</a>\r\n            </a-menu-item>\r\n            <a-menu-item>\r\n              <a href=\"javascript:;\">禁用</a>\r\n            </a-menu-item>\r\n            <a-menu-item>\r\n              <a href=\"javascript:;\">删除</a>\r\n            </a-menu-item>\r\n          </a-menu>\r\n        </a-dropdown>\r\n      </span>\r\n    </s-table>\r\n\r\n    <role-modal ref=\"modal\" @ok=\"handleOk\"></role-modal>\r\n\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\nimport STable from '@/components/table/'\r\nimport RoleModal from './modules/RoleModal'\r\n\r\nexport default {\r\n  name: 'TableList',\r\n  components: {\r\n    STable,\r\n    RoleModal\r\n  },\r\n  data () {\r\n    return {\r\n      description: '列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。',\r\n\r\n      visible: false,\r\n\r\n      form: null,\r\n      mdl: {},\r\n\r\n      // 高级搜索 展开/关闭\r\n      advanced: false,\r\n      // 查询参数\r\n      queryParam: {},\r\n      // 表头\r\n      columns: [\r\n        {\r\n          title: '唯一识别码',\r\n          dataIndex: 'id'\r\n        },\r\n        {\r\n          title: '角色名称',\r\n          dataIndex: 'name'\r\n        },\r\n        {\r\n          title: '状态',\r\n          dataIndex: 'status'\r\n        },\r\n        {\r\n          title: '创建时间',\r\n          dataIndex: 'createTime',\r\n          sorter: true\r\n        }, {\r\n          title: '操作',\r\n          width: '150px',\r\n          dataIndex: 'action',\r\n          scopedSlots: { customRender: 'action' }\r\n        }\r\n      ],\r\n      // 加载数据方法 必须为 Promise 对象\r\n      loadData: parameter => {\r\n        return this.$http.get('/role', {\r\n          params: Object.assign(parameter, this.queryParam)\r\n        }).then(res => {\r\n          return res.result\r\n        })\r\n      },\r\n\r\n      selectedRowKeys: [],\r\n      selectedRows: []\r\n    }\r\n  },\r\n  methods: {\r\n    handleEdit (record) {\r\n      this.mdl = Object.assign({}, record)\r\n\r\n      this.mdl.permissions.forEach(permission => {\r\n        permission.actionsOptions = permission.actionEntitySet.map(action => {\r\n          return { label: action.describe, value: action.action, defaultCheck: action.defaultCheck }\r\n        })\r\n      })\r\n\r\n      console.log(this.mdl)\r\n      this.visible = true\r\n    },\r\n    handleOk () {\r\n      // 新增/修改 成功时，重载列表\r\n      this.$refs.table.refresh()\r\n    },\r\n    onChange (selectedRowKeys, selectedRows) {\r\n      this.selectedRowKeys = selectedRowKeys\r\n      this.selectedRows = selectedRows\r\n    },\r\n    toggleAdvanced () {\r\n      this.advanced = !this.advanced\r\n    }\r\n  },\r\n  watch: {\r\n    /*\r\n      'selectedRows': function (selectedRows) {\r\n        this.needTotalList = this.needTotalList.map(item => {\r\n          return {\r\n            ...item,\r\n            total: selectedRows.reduce( (sum, val) => {\r\n              return sum + val[item.dataIndex]\r\n            }, 0)\r\n          }\r\n        })\r\n      }\r\n      */\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleList.vue?vue&type=template&id=df56f300&\"\nimport script from \"./RoleList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function(value, key) {\n    return key in object;\n  });\n}\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = baseRest(function(object, props) {\n  return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));\n});\n\nmodule.exports = pick;\n","export function actionToObject (json) {\r\n  try {\r\n    return JSON.parse(json)\r\n  } catch (e) {\r\n    console.log('err', e.message)\r\n  }\r\n  return []\r\n}\r\n"],"sourceRoot":""}